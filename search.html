<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search - WatchNat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
    <style>
      body {
        background-color: black;
        color: white;
        font-family: 'sans-serif';
        margin: 0;
        padding: 20px;
      }

      .search-container {
        max-width: 800px;
        margin: 20px auto;
      }

      form {
        background-color: #fff;
        width: 100%;
        height: 44px;
        border-radius: 22px;
        display: flex;
        flex-direction: row;
        align-items: center;
        color: rgb(8, 7, 7);
        border: 1px solid;
        box-shadow: 0 0 10px rgba(19, 18, 18, 0.997);
        margin-bottom: 30px;
      }

      input {
        all: unset;
        font: 16px system-ui;
        color: #0f0e0e;
        height: 100%;
        width: 100%;
        padding: 2px 10px;
      }

      ::placeholder {
        color: #0c0b0b;
        opacity: 1.7;
      }

      svg {
        color: #ab4d4d;
        fill: currentColor;
        width: 24px;
        height: 24px;
        padding: 10px;
      }

      button {
        all: unset;
        cursor: pointer;
        width: 44px;
        height: 44px;
      }

      .fa-solid {
        float: right;
        padding-right: 10px;
      }

      .results-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .movie-card {
        background: #1a1a1a;
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 0 10px rgba(100, 100, 100, 0.3);
      }

      .movie-card:hover {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(150, 150, 150, 0.5);
      }

      .movie-card img {
        width: 100%;
        height: 250px;
        object-fit: cover;
      }

      .movie-info {
        padding: 10px;
      }

      .movie-title {
        font-size: 14px;
        font-weight: bold;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .movie-category {
        font-size: 12px;
        color: #999;
      }

      .no-results {
        text-align: center;
        color: #999;
        padding: 40px;
      }

      .header {
        overflow: hidden;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .header a {
        color: rgb(243, 238, 238);
        text-align: center;
        padding: 10px;
        text-decoration: none;
        font-size: 18px;
      }

      .header a:hover {
        background-color: rgb(37, 35, 37);
      }

      .header-right {
        display: flex;
      }
    </style>
  </head>
  <body style="background-color: black; margin: 0; padding: 0;">
    <div class="header">
      <img src="./Logo/WatchNat Assets/W__3_-removebg-preview.png" width="120px" style="margin-top: -39px; margin-left: 10px;"></a>
      <div class="header-right">
        <a class="active" href="./search.html"><i class="fa-solid fa-magnifying-glass fa-lg" style="color: #ffffff;"></i></a>
        <a href="./login.html"><i class="fa-solid fa-user fa-lg" style="color: #fafafa;"></i></a>
        <a href="./live.html"><i class="fa-solid fa-tv fa-lg" style="color: #ffffff;"></i></a>
      </div>
    </div>

    <div class="search-container">
      <form role="search" id="form">
        <input type="search" id="query" name="q" placeholder="Search for movies and series" aria-label="Search through site content">
        <button type="submit">
          <svg viewBox="0 0 1024 1024"><path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"></path></svg>
        </button>
      </form>

      <div class="results-container" id="results"></div>
    </div>

    <script>
      // Movie database
      const moviesDatabase = [
        { title: "Superman", category: "Action", image: "./Logo/WatchNat Assets/Superman.jpg" },
        { title: "Stranger Things", category: "Science-Fiction", image: "./Logo/WatchNat Assets/stranger things.jpg" },
        { title: "Smallville", category: "Science-Fiction", image: "./Logo/WatchNat Assets/smallvile.jpg" },
        { title: "Terminator", category: "Action", image: "./Logo/WatchNat Assets/terminator.jpg" },
        { title: "Jackie Chan", category: "Action", image: "./Logo/WatchNat Assets/Jackie chan.jpg" },
        { title: "Billy the Kid Returns", category: "Drama", image: "./Logo/WatchNat Assets/Billy the Kid returns.jpeg" },
        { title: "House on Haunted Hill", category: "Horror", image: "./Logo/WatchNat Assets/house on haunted hill 1959.webp" },
        { title: "The Day the Earth Stood Still", category: "Science-Fiction", image: "./Logo/WatchNat Assets/The day the earth stood still.jpg" },
        { title: "Frankenstein", category: "Horror", image: "./Logo/WatchNat Assets/Frankenstein.jpg" },
        { title: "The Invisible Man", category: "Horror", image: "./Logo/WatchNat Assets/The invisible man.jpg" }
      ];

      const form = document.getElementById('form');
      const query = document.getElementById('query');
      const resultsContainer = document.getElementById('results');

      // Function to display search results
      function displayResults(results) {
        resultsContainer.innerHTML = '';
        
        if (results.length === 0) {
          resultsContainer.innerHTML = '<div class="no-results"><p>No movies found. Try a different search.</p></div>';
          return;
        }

        results.forEach(movie => {
          const movieCard = document.createElement('div');
          movieCard.className = 'movie-card';
          movieCard.innerHTML = `
            <img src="${movie.image}" alt="${movie.title}">
            <div class="movie-info">
              <div class="movie-title" title="${movie.title}">${movie.title}</div>
              <div class="movie-category">${movie.category}</div>
            </div>
          `;
          resultsContainer.appendChild(movieCard);
        });
      }

      // Function to search movies
      function searchMovies(searchTerm) {
        const term = searchTerm.toLowerCase().trim();
        
        if (term === '') {
          resultsContainer.innerHTML = '';
          return;
        }

        const results = moviesDatabase.filter(movie =>
          movie.title.toLowerCase().includes(term) ||
          movie.category.toLowerCase().includes(term)
        );

        displayResults(results);
      }

      // Handle form submission
      form.addEventListener('submit', (event) => {
        event.preventDefault();
      });

      // Real-time search as user types
      query.addEventListener('input', (event) => {
        searchMovies(event.target.value);
      });

      // Display all movies initially
      displayResults(moviesDatabase);
    </script>

  </body>
</html>